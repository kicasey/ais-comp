<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TalentStrategyAI | EY Talent Match</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css?v=4">
    <script>
        (function(){var t=localStorage.getItem('talentStrategyTheme');if(t&&t!=='dark')document.documentElement.setAttribute('data-theme',t);})();
    </script>
</head>
<body class="page--landing">
    <!-- EY logo + theme toggle: top right on landing only -->
    <div class="ey-logo-top" aria-hidden="true">
        <button type="button" class="theme-toggle" id="theme-toggle-landing" aria-label="Toggle light/dark mode">
            <span class="theme-toggle__track">
                <span class="theme-toggle__thumb"></span>
            </span>
        </button>
        <img src="images/ey-logo.svg" alt="EY" class="ey-logo-img">
    </div>

    <!-- Landing page: Log in ‚Üí choose Employee or Manager -->
    <section class="page page--landing" id="page-landing">
        <header class="landing-header">
            <h1 class="landing-title">TalentStrategyAI</h1>
            <p class="landing-tagline">EY Talent Match ‚Äî match talent to roles, fairly and clearly.</p>
            <p class="landing-cta">Log in as</p>
        </header>
        <div class="landing-choices">
            <div class="landing-buttons">
                <button type="button" class="landing-card" id="go-employee" data-role="employee">
                    <span class="landing-card__icon" aria-hidden="true">üë§</span>
                    <span class="landing-card__title">Employee</span>
                    <span class="landing-card__desc">Upload my resume, see my match to roles, get upskilling suggestions.</span>
                </button>
                <button type="button" class="landing-card" id="go-manager" data-role="manager">
                    <span class="landing-card__icon" aria-hidden="true">üë•</span>
                    <span class="landing-card__title">Manager</span>
                    <span class="landing-card__desc">See top matches for a role, team summary, and promotion insights.</span>
                </button>
            </div>
        </div>
    </section>

    <!-- Login page: clean sign-in only (Create profile toggles in) -->
    <section class="page page--login page--hidden" id="page-login">
        <a href="#" class="login-back" id="login-back" style="color:#FFE600;">‚Üê Back</a>
        <div class="login-center">
            <div class="login-card" style="background:#fafafa; border-radius:20px; box-shadow:0 4px 6px rgba(0,0,0,0.04), 0 12px 24px rgba(0,0,0,0.06), 0 24px 48px rgba(255,230,0,0.14), 0 0 0 1px rgba(255,230,0,0.08); border:1px solid rgba(0,0,0,0.06); padding:2.5rem 2rem;">
                <div class="login-card-header">
                    <span class="login-logo">EY</span>
                    <h1 class="login-heading" id="login-page-title" style="color:#1a1a1a;">Manager sign in</h1>
                    <p class="login-description" id="login-page-subtitle" style="color:#6b7280;">Sign in to view jobs and recommendations.</p>
                </div>

                <form id="auth-login-form" class="auth-form auth-form--signin">
                    <label for="login-email" class="auth-label" style="color:#374151;">Email</label>
                    <input type="email" id="login-email" name="email" required placeholder="you@ey.com" autocomplete="email" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                    <label for="login-password" class="auth-label" style="color:#374151;">Password</label>
                    <input type="password" id="login-password" name="password" required placeholder="Enter password" autocomplete="current-password" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                    <p id="auth-login-error" class="auth-error" role="alert" aria-live="polite"></p>
                    <button type="submit" class="auth-btn" style="background:#FFE600; color:#000; border-radius:10px;">Sign in</button>
                    <p class="auth-footer" style="color:#6b7280;">Don't have an account? <button type="button" class="auth-footer-link" id="auth-show-register" style="color:#b45309;">Create profile</button></p>
                </form>

                <form id="auth-register-form" class="auth-form auth-form--register auth-form--hidden">
                    <label for="register-email" class="auth-label" style="color:#374151;">Email</label>
                    <input type="email" id="register-email" name="email" required placeholder="you@ey.com" autocomplete="email" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                    <label for="register-password" class="auth-label" style="color:#374151;">Password</label>
                    <input type="password" id="register-password" name="password" required placeholder="At least 6 characters" autocomplete="new-password" minlength="6" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                    <label for="register-display-name" class="auth-label" style="color:#374151;">Display name</label>
                    <input type="text" id="register-display-name" name="displayName" placeholder="Your name" autocomplete="name" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                    <label for="register-role" class="auth-label" style="color:#374151;">I am</label>
                    <select id="register-role" name="role" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                        <option value="employee">Employee</option>
                        <option value="manager">Manager</option>
                    </select>
                    <div class="auth-register-extra" id="register-employee-fields">
                        <label for="register-position" class="auth-label" style="color:#374151;">Position</label>
                        <input type="text" id="register-position" name="position" placeholder="e.g. Consultant" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                        <label for="register-department" class="auth-label" style="color:#374151;">Department</label>
                        <input type="text" id="register-department" name="department" placeholder="e.g. Technology" class="auth-input" style="background:#fff; border:1px solid #e5e7eb; border-radius:10px; color:#1a1a1a;">
                    </div>
                    <p id="auth-register-error" class="auth-error" role="alert" aria-live="polite"></p>
                    <button type="submit" class="auth-btn" style="background:#FFE600; color:#000; border-radius:10px;">Create profile</button>
                    <p class="auth-footer" style="color:#6b7280;">Already have an account? <button type="button" class="auth-footer-link" id="auth-show-login" style="color:#b45309;">Sign in</button></p>
                </form>
            </div>
        </div>
    </section>

    <!-- App: Employee or Manager (after successful login) -->
    <section class="page page--app page--hidden" id="page-app">
        <header class="app-header">
            <button type="button" class="btn-back" id="btn-back" aria-label="Back to home">‚Üê Back</button>
            <div class="header-inner">
                <div class="logo">TalentStrategyAI</div>
                <p class="tagline">EY Talent Match</p>
            </div>
            <div class="header-auth">
                <button type="button" class="theme-toggle" id="theme-toggle" aria-label="Toggle light/dark mode">
                    <span class="theme-toggle__track">
                        <span class="theme-toggle__thumb"></span>
                    </span>
                </button>
                <span class="header-user" id="header-user" style="display: none;"></span>
                <button type="button" class="btn-login" id="btn-login-app" aria-label="Login">Login</button>
                <button type="button" class="btn-logout" id="btn-logout" aria-label="Log out" style="display: none;">Log out</button>
            </div>
        </header>

        <div class="app-container">
            <main class="main-content">
                <!-- ========== EMPLOYEE INTERFACE ========== -->
                <section class="interface" id="interface-employee" aria-label="Employee interface">
                    <section class="upload-section" aria-label="Resume upload">
                        <h2 class="section-title">Resume</h2>
                        <form id="resume-upload-form" class="upload-form upload-form--compact">
                            <div class="upload-form-row">
                                <div class="form-group form-group--inline form-group--file">
                                    <div class="file-row">
                                        <label for="resume-file" class="file-input-label" id="resume-file-label">Choose file...</label>
                                        <input type="file" id="resume-file" name="resume" accept=".pdf,.doc,.docx" class="file-input-native">
                                        <button type="submit" class="submit-btn submit-btn--compact" id="submit-btn">
                                            <span class="btn-text">Upload</span>
                                            <span class="btn-loader" style="display: none;">Uploading...</span>
                                        </button>
                                    </div>
                                    <small class="file-info">PDF, DOC, DOCX (max 10MB)</small>
                                </div>
                            </div>
                        </form>
                        <div id="upload-message" class="message" style="display: none;"></div>
                    </section>

                    <div id="last-upload-box" class="last-upload-box" style="display: none;">
                        <span class="last-upload-box__label">Last file uploaded</span>
                        <span class="last-upload-box__detail" id="last-upload-detail"></span>
                    </div>

                    <section class="match-section" aria-label="Your match by role">
                        <h2 class="section-title">Your match by role</h2>
                        <div id="employee-match-list" class="match-list" aria-live="polite">
                            <p class="placeholder-text">Upload your resume and use the assistant below to see your match % for each open EY role.</p>
                        </div>
                    </section>

                    <section class="chat-section" aria-label="AI assistant">
                        <h2 class="section-title">Ask EY's Talent Manager</h2>
                        <div class="chat-messages" id="chat-messages-employee" aria-live="polite"></div>
                        <div class="chat-input-row">
                            <input type="text" class="chat-input" id="chat-input-employee" placeholder="Ask EY's Talent Manager..." maxlength="500" aria-label="Ask EY's Talent Manager">
                            <button type="button" class="chat-send" id="chat-send-employee" aria-label="Send">Send</button>
                        </div>
                        <div class="chat-presets-wrap">
                            <div class="chat-presets" role="group" aria-label="Suggestions">
                                <button type="button" class="preset-btn" data-preset="match_roles">Match my resume to open EY roles</button>
                                <button type="button" class="preset-btn" data-preset="explain_match">Explain why I was matched (or not) to a role</button>
                                <button type="button" class="preset-btn" data-preset="suggest_upskill">Suggest upskilling to improve my fit</button>
                                <button type="button" class="preset-btn" data-preset="match_summary">Show my match summary</button>
                            </div>
                        </div>
                    </section>
                </section>

                <!-- ========== MANAGER INTERFACE ========== -->
                <section class="interface interface--hidden" id="interface-manager" aria-label="Manager interface">
                    <div class="manager-layout">
                        <div class="manager-main">
                            <h2 class="section-title">Open job postings</h2>
                            <button type="button" class="btn-add-job" id="btn-add-job" aria-label="Add job">+ Add job</button>
                            <div id="manager-jobs-list" class="jobs-list" aria-live="polite"><p class="placeholder-text">Loading job postings‚Ä¶</p></div>
                            <div id="manager-recommendations-wrap" class="recommendations-wrap" style="display: none;">
                                <h2 class="section-title">Recommended employees <span id="manager-recommendations-job-title" class="section-title-sub"></span></h2>
                                <div id="manager-recommendations-list" class="recommendations-list" aria-live="polite"></div>
                            </div>
                        </div>
                        <aside id="manager-job-panel" class="manager-panel manager-panel--closed" aria-label="Job details">
                            <div class="manager-panel-inner">
                                <button type="button" class="manager-panel-close" id="manager-panel-close" aria-label="Close panel">√ó</button>
                                <div id="manager-job-detail" class="manager-job-detail"></div>
                                <div id="manager-job-actions" class="manager-job-actions" style="display: none;">
                                    <button type="button" class="btn-edit-job" id="btn-edit-job">Edit</button>
                                    <button type="button" class="btn-delete-job" id="btn-delete-job">Delete</button>
                                </div>
                                <button type="button" class="btn-recommend-employees" id="btn-recommend-employees">Recommend employees</button>
                            </div>
                        </aside>
                    </div>
                    <div id="manager-employee-popout" class="employee-popout employee-popout--closed" aria-label="Employee match explanation">
                        <div class="employee-popout-inner">
                            <button type="button" class="employee-popout-close" id="employee-popout-close" aria-label="Close">√ó</button>
                            <h3 class="employee-popout-title" id="employee-popout-title">Match explanation</h3>
                            <div id="employee-popout-content" class="employee-popout-content"></div>
                        </div>
                    </div>
                    <section class="chat-section chat-section--manager" aria-label="AI assistant">
                        <h2 class="section-title">Ask EY's Talent Manager</h2>
                        <div class="chat-messages" id="chat-messages-manager" aria-live="polite"></div>
                        <div class="chat-input-row">
                            <input type="text" class="chat-input" id="chat-input-manager" placeholder="Ask EY's Talent Manager..." maxlength="500" aria-label="Ask EY's Talent Manager">
                            <button type="button" class="chat-send" id="chat-send-manager" aria-label="Send">Send</button>
                        </div>
                        <div class="chat-presets-wrap">
                            <div class="chat-presets" role="group" aria-label="Suggestions">
                                <button type="button" class="preset-btn preset-btn--manager" data-preset="match_employees_to_role">Match employees to an open role</button>
                                <button type="button" class="preset-btn preset-btn--manager" data-preset="explain_employee_match">Explain why an employee was matched (or not) to a role</button>
                                <button type="button" class="preset-btn preset-btn--manager" data-preset="top_employees_for_role">See top employees for a role by match %</button>
                                <button type="button" class="preset-btn preset-btn--manager" data-preset="team_match_summary">View match summary for my team</button>
                            </div>
                        </div>
                    </section>
                </section>
            </main>
        </div>
    </section>

    <!-- Job add/edit modal (manager) -->
    <div id="manager-job-modal" class="job-form-modal job-form-modal--closed" aria-hidden="true" aria-label="Add or edit job">
        <div class="job-form-modal-backdrop"></div>
        <div class="job-form-modal-inner">
            <h3 id="manager-job-modal-title" class="job-form-modal-title">Add job</h3>
            <form id="manager-job-form" class="job-form">
                <div class="form-group">
                    <label for="job-form-title">Title <span class="required">*</span></label>
                    <input type="text" id="job-form-title" name="title" required maxlength="500" placeholder="e.g. Senior Consultant ‚Äì Technology">
                </div>
                <div class="form-group">
                    <label for="job-form-department">Department</label>
                    <input type="text" id="job-form-department" name="department" maxlength="200" placeholder="e.g. Technology">
                </div>
                <div class="form-group">
                    <label for="job-form-location">Location</label>
                    <input type="text" id="job-form-location" name="location" maxlength="200" placeholder="e.g. New York">
                </div>
                <div class="form-group">
                    <label for="job-form-description">Description</label>
                    <textarea id="job-form-description" name="description" rows="4" placeholder="Role requirements and responsibilities..."></textarea>
                </div>
                <div class="job-form-actions">
                    <button type="button" class="btn-cancel-job-form" id="btn-cancel-job-form">Cancel</button>
                    <button type="submit" class="btn-save-job" id="btn-save-job">Save</button>
                </div>
            </form>
        </div>
    </div>

    <!-- EY logo: bottom right on chatbot (Employee/Manager) only -->
    <div class="ey-logo-bottom" aria-hidden="true">
        <img src="images/ey-logo.svg" alt="EY" class="ey-logo-img">
    </div>

    <script src="js/app.js?v=2"></script>
</body>
</html>
